<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="622px" preserveAspectRatio="none" style="width:679px;height:622px;" version="1.1" viewBox="0 0 679 622" width="679px" zoomAndPan="magnify"><defs><filter height="300%" id="fiazc4hvkrzs6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#F0FFFF" filter="url(#fiazc4hvkrzs6)" height="108.0117" style="stroke: #A9A9A9; stroke-width: 1.5;" width="204" x="106" y="34.5"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="162.5" y="49.502">owaStateStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="107" x2="309" y1="54.502" y2="54.502"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="90" x="112" y="69.3369">bool soundReady</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="192" x="112" y="82.6719">Enum SESSION_PHASES sessionPhase</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="118" y="96.0068"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="118" y="109.3418"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="114" x="112" y="122.6768">LevelState levels[]</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="162" x="112" y="136.0117">SequencerState sequencers{}</text><rect fill="#F0FFFF" filter="url(#fiazc4hvkrzs6)" height="201.3564" style="stroke: #A9A9A9; stroke-width: 1.5;" width="112" x="6" y="269"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="13" y="284.002">SESSION_PHASES</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="7" x2="117" y1="289.002" y2="289.002"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="24" x="12" y="303.8369">IDLE</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="48" x="12" y="317.1719">TRANS_10</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="60" x="12" y="330.5068">PLAYING_10</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="42" x="12" y="343.8418">TRANS_8</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="54" x="12" y="357.1768">PLAYING_8</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="42" x="12" y="370.5117">TRANS_6</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="54" x="12" y="383.8467">PLAYING_6</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="42" x="12" y="397.1816">TRANS_4</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="54" x="12" y="410.5166">PLAYING_4</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="72" x="12" y="423.8516">ADVICE_READY</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="72" x="12" y="437.1865">TRANS_ADVICE</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="84" x="12" y="450.5215">PLAYING_ADVICE</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="60" x="12" y="463.8564">TRANS_IDLE</text><rect fill="#F0FFFF" filter="url(#fiazc4hvkrzs6)" height="281.3662" style="stroke: #A9A9A9; stroke-width: 1.5;" width="402" x="153" y="229"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="319" y="244.002">LevelState</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="154" x2="554" y1="249.002" y2="249.002"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="54" x="159" y="263.8369">string id</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="138" x="159" y="277.1719">SegmentState segments[]</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="165" y="290.5068"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="165" y="303.8418"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="174" x="159" y="317.1768">How many beats in one measure</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="126" x="159" y="330.5117">int segmentMeterQuant</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="165" y="343.8467"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="165" y="357.1816"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="366" x="159" y="370.5166">Duration of a one beat, this is like the time sig denominator</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="90" x="159" y="383.8516">int beatDur = 1</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="165" y="397.1865"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="165" y="410.5215"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="192" x="159" y="423.8564">How many measures in one segment</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="114" x="159" y="437.1914">int segmentDuration</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="165" y="450.5264"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="0" x="165" y="463.8613"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="390" x="159" y="477.1963">Index of the active segment of this level or null if the level is</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="54" x="159" y="490.5313">inactive.</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="108" x="159" y="503.8662">activeSegmentIndex</text><rect fill="#F0FFFF" filter="url(#fiazc4hvkrzs6)" height="41.3369" style="stroke: #A9A9A9; stroke-width: 1.5;" width="120" x="294" y="570"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="312" y="585.002">SegmentState</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="295" x2="413" y1="590.002" y2="590.002"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="108" x="300" y="604.8369">string sequencerId</text><rect fill="#F0FFFF" filter="url(#fiazc4hvkrzs6)" height="68.0068" style="stroke: #A9A9A9; stroke-width: 1.5;" width="114" x="345" y="54.5"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="353" y="69.502">linkStateStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="346" x2="458" y1="74.502" y2="74.502"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="102" x="351" y="89.3369">abletonlink.tempo</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="96" x="351" y="102.6719">abletonlink.beat</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="90" x="351" y="116.0068">abletonlink.bar</text><rect fill="#F0FFFF" filter="url(#fiazc4hvkrzs6)" height="161.3516" style="stroke: #A9A9A9; stroke-width: 1.5;" width="174" x="494" y="8"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="532" y="23.002">SequencerState</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="495" x2="667" y1="28.002" y2="28.002"/><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="162" x="500" y="42.8369">Awakening sequencers object</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="24" x="500" y="56.1719">name</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="108" x="500" y="69.5068">clockOffsetSeconds</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="24" x="500" y="82.8418">beat</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="48" x="500" y="96.1768">nextBeat</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="48" x="500" y="109.5117">numBeats</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="72" x="500" y="122.8467">playingState</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="42" x="500" y="136.1816">isReady</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="102" x="500" y="149.5166">playQuant: [4, 0]</text><text fill="#000000" font-family="Monaco" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="102" x="500" y="162.8516">stopQuant: [8, 0]</text><!--link owaStateStore to SESSION_PHASES--><path d="M173.7767,154.3682 C156.0716,188.4444 134.0787,230.7732 114.297,268.8462 " fill="none" id="owaStateStore-SESSION_PHASES" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="179.8497,142.6796,173.5339,146.1596,174.3171,153.3281,180.6329,149.848,179.8497,142.6796" style="stroke: #000000; stroke-width: 1.0;"/><!--link owaStateStore to LevelState--><path d="M242.2404,154.401 C253.889,176.8206 267.3921,202.8094 280.8997,228.8071 " fill="none" id="owaStateStore-LevelState" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="236.1503,142.6796,235.3671,149.848,241.6829,153.3281,242.4661,146.1596,236.1503,142.6796" style="stroke: #000000; stroke-width: 1.0;"/><!--link LevelState to SegmentState--><path d="M354,523.3314 C354,541.5822 354,557.9591 354,569.9723 " fill="none" id="LevelState-SegmentState" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="354,510.0888,350,516.0888,354,522.0888,358,516.0888,354,510.0888" style="stroke: #000000; stroke-width: 1.0;"/><!--
@startuml

skinparam backgroundColor transparent
skinparam defaultFontName Monaco
hide circle
skinparam class {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam object {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam state {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam sequenceParticipant {
  backgroundColor Azure
  borderColor DarkGrey
}
skinparam sequenceLifeLine {
  borderColor DarkGrey
}
skinparam sequence {
  arrowColor Black
}
skinparam component {
  backgroundColor Azure
  borderColor DarkGrey
}
skinparam interface {
  backgroundColor Azure
  borderColor DarkGrey
}

object owaStateStore {  
  bool soundReady
  Enum SESSION_PHASES sessionPhase
  \n
  LevelState levels[]
  SequencerState sequencers{}
}

object SESSION_PHASES { 
IDLE
TRANS_10
PLAYING_10
TRANS_8
PLAYING_8
TRANS_6
PLAYING_6
TRANS_4
PLAYING_4
ADVICE_READY
TRANS_ADVICE
PLAYING_ADVICE
TRANS_IDLE
}

owaStateStore *- - SESSION_PHASES

object LevelState {
  string id
  SegmentState segments[]
  \n
  How many beats in one measure
  int segmentMeterQuant
  \n
  Duration of a one beat, this is like the time sig denominator
  int beatDur = 1
  \n
  How many measures in one segment
  int segmentDuration
  \n
  Index of the active segment of this level or null if the level is 
  inactive.
  activeSegmentIndex
}
owaStateStore *- - LevelState

object SegmentState {
  string sequencerId
}
LevelState *- - SegmentState

object linkStateStore {
  abletonlink.tempo
  abletonlink.beat
  abletonlink.bar
}

object SequencerState {
  Awakening sequencers object
  
  name
  clockOffsetSeconds
  beat
  nextBeat
  numBeats
  playingState
  isReady
  playQuant: [4, 0]
  stopQuant: [8, 0]
}


@enduml

PlantUML version 1.2017.14(Mon Jun 05 02:56:32 PDT 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.6.0_65-b14-468-11M4833
Operating System: Mac OS X
OS Version: 10.11.2
Default Encoding: MacRoman
Language: en
Country: US
--></g></svg>