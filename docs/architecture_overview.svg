<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="472px" preserveAspectRatio="none" style="width:2247px;height:472px;" version="1.1" viewBox="0 0 2247 472" width="2247px" zoomAndPan="magnify"><defs><filter height="300%" id="f8wq1p1fm42qx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster nodejs.owa--><polygon fill="#FFFFFF" filter="url(#f8wq1p1fm42qx)" points="14,16,100,16,107,40.6689,1347,40.6689,1347,460,14,460,14,16" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="14" x2="107" y1="40.6689" y2="40.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="18" y="33.1689">nodejs.owa</text><!--cluster nodejs.owa.simulator--><polygon fill="#FFFFFF" filter="url(#f8wq1p1fm42qx)" points="1149,45,1227,45,1234,69.6689,1339,69.6689,1339,139,1149,139,1149,45" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1149" x2="1234" y1="69.6689" y2="69.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="1153" y="62.1689">simulator</text><!--cluster quarks.owa--><polygon fill="#FFFFFF" filter="url(#f8wq1p1fm42qx)" points="1365,23,1451,23,1458,47.6689,1849,47.6689,1849,306.5,1365,306.5,1365,23" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1365" x2="1458" y1="47.6689" y2="47.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="1369" y="40.1689">quarks.owa</text><!--cluster quarks.supercollider_redux--><polygon fill="#FFFFFF" filter="url(#f8wq1p1fm42qx)" points="1868,213,2082,213,2089,237.6689,2225,237.6689,2225,292,1868,292,1868,213" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1868" x2="2089" y1="237.6689" y2="237.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="1872" y="230.1689">quarks.supercollider_redux</text><!--class nodejs.owa.OWAController--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="115.3442" id="nodejs.owa.OWAController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="320" x="802" y="45"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="916.5" y="63.002">OWAController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="803" x2="1121" y1="71.002" y2="71.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="808" y="86.9204">Top level entity for controlling everything.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="808" y="101.5889">Entry point, starts all sub-controllers.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="808" y="116.2573">OWAStateStore store</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="808" y="130.9258">inputController</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="808" y="145.5942">soundController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="803" x2="1121" y1="152.3442" y2="152.3442"/><!--class nodejs.owa.SimulatorInputController--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="86.0073" id="nodejs.owa.SimulatorInputController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="292" x="314" y="220"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="376" y="238.002">SimulatorInputController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="315" x2="605" y1="246.002" y2="246.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="320" y="261.9204">Converts messages from simulator UI into</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="320" y="276.5889">dispatched actions.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="320" y="291.2573">oscActionListener</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="315" x2="605" y1="298.0073" y2="298.0073"/><!--class nodejs.owa.owaStateStore--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="71.3389" id="nodejs.owa.owaStateStore" style="stroke: #A9A9A9; stroke-width: 1.5;" width="222" x="545" y="67"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="610.5" y="85.002">owaStateStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="546" x2="766" y1="93.002" y2="93.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="551" y="108.9204">Main state store for OWA app</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="551" y="123.5889">See data model for state tree.</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="546" x2="766" y1="130.3389" y2="130.3389"/><!--class nodejs.owa.linkStateStore--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="86.0073" id="nodejs.owa.linkStateStore" style="stroke: #A9A9A9; stroke-width: 1.5;" width="488" x="22" y="59.5"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="217" y="77.502">linkStateStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="23" x2="509" y1="85.502" y2="85.502"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="476" x="28" y="101.4204">A separate Redux state store for the Ableton Link state.  It changes</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="441" x="28" y="116.0889">very frequently and thus does not need to be in the same store.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="28" y="130.7573">See data model for tree</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="23" x2="509" y1="137.5073" y2="137.5073"/><!--class nodejs.owa.OSCActionListener--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="86.0073" id="nodejs.owa.OSCActionListener" style="stroke: #A9A9A9; stroke-width: 1.5;" width="369" x="899.5" y="366"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="1024.5" y="384.002">OSCActionListener</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="900.5" x2="1267.5" y1="392.002" y2="392.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="357" x="905.5" y="407.9204">Forward actions from osc.js to a Redux state store.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="905.5" y="422.5889">store</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="905.5" y="437.2573">oscSocket</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="900.5" x2="1267.5" y1="444.0073" y2="444.0073"/><!--class nodejs.owa.AbletonLinkController--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="42.002" id="nodejs.owa.AbletonLinkController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="153" x="641.5" y="242"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="644.5" y="260.002">AbletonLinkController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="642.5" x2="793.5" y1="268.002" y2="268.002"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="642.5" x2="793.5" y1="276.002" y2="276.002"/><!--class nodejs.owa.SoundController--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="86.0073" id="nodejs.owa.SoundController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="509" x="829.5" y="220"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1031.5" y="238.002">SoundController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="830.5" x2="1337.5" y1="246.002" y2="246.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="497" x="835.5" y="261.9204">Forwards state changes to SuperCollider and forwards dispatches from SC</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="835.5" y="276.5889">to the store.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="835.5" y="291.2573">OSCActionListener actionListener</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="830.5" x2="1337.5" y1="298.0073" y2="298.0073"/><!--class nodejs.owa.simulator.OWAUIApp--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="56.6704" id="nodejs.owa.simulator.OWAUIApp" style="stroke: #A9A9A9; stroke-width: 1.5;" width="173" x="1157.5" y="74"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="1216" y="92.002">OWAUIApp</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1158.5" x2="1329.5" y1="100.002" y2="100.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="1163.5" y="115.9204">Entry point for the GUI</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1158.5" x2="1329.5" y1="122.6704" y2="122.6704"/><!--class OWAController--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="100.6758" id="OWAController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="348" x="1493" y="52"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="1621.5" y="70.002">OWAController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1494" x2="1840" y1="78.002" y2="78.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="1499" y="93.9204">StateStore owaStore</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="1499" y="108.5889">StateStore linkStore</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="329" x="1499" y="123.2573">SessionTimingController sessionTimingController</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="336" x="1499" y="137.9258">ReduxAbletonTempoClockController clockController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1494" x2="1840" y1="144.6758" y2="144.6758"/><!--class SessionTimingController--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="71.3389" id="SessionTimingController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="467" x="1373.5" y="227.5"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="161" x="1526.5" y="245.502">SessionTimingController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1374.5" x2="1839.5" y1="253.502" y2="253.502"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="1379.5" y="269.4204">Handles scheduling the timing to transition from one phase to the</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1379.5" y="284.0889">next.</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1374.5" x2="1839.5" y1="290.8389" y2="290.8389"/><!--class quarks.supercollider_redux.StateStore--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="42.002" id="quarks.supercollider_redux.StateStore" style="stroke: #A9A9A9; stroke-width: 1.5;" width="76" x="2141" y="242"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="2144" y="260.002">StateStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="2142" x2="2216" y1="268.002" y2="268.002"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="2142" x2="2216" y1="276.002" y2="276.002"/><!--class quarks.supercollider_redux.ReduxAbletonTempoClockController--><rect fill="#F0FFFF" filter="url(#f8wq1p1fm42qx)" height="42.002" id="quarks.supercollider_redux.ReduxAbletonTempoClockController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="230" x="1876" y="242"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="1879" y="260.002">ReduxAbletonTempoClockController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1877" x2="2105" y1="268.002" y2="268.002"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1877" x2="2105" y1="276.002" y2="276.002"/><!--link nodejs.owa.OWAController to nodejs.owa.SimulatorInputController--><path d="M789.2606,158.3135 C787.4984,158.8787 785.7444,159.441 784,160 C722.3115,179.7691 653.9671,201.5184 596.0116,219.9166 " fill="none" id="nodejs.owa.OWAController-nodejs.owa.SimulatorInputController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="801.9042,154.2551,794.9688,152.2802,790.4784,157.9226,797.4138,159.8975,801.9042,154.2551" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.OWAController to nodejs.owa.AbletonLinkController--><path d="M863.2599,167.45 C822.9097,193.9918 779.0342,222.8525 750.183,241.8304 " fill="none" id="nodejs.owa.OWAController-nodejs.owa.AbletonLinkController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="874.2551,160.2174,867.0441,160.1729,864.2296,166.812,871.4405,166.8565,874.2551,160.2174" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.OWAController to nodejs.owa.SoundController--><path d="M1014.1843,171.1523 C1026.7164,187.6392 1039.7556,204.7932 1051.1257,219.7514 " fill="none" id="nodejs.owa.OWAController-nodejs.owa.SoundController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1006.0448,160.4442,1006.4912,167.6415,1013.3065,169.9976,1012.8601,162.8003,1006.0448,160.4442" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.SoundController to nodejs.owa.OSCActionListener--><path d="M1084,319.2435 C1084,334.6914 1084,351.1977 1084,365.7878 " fill="none" id="nodejs.owa.SoundController-nodejs.owa.OSCActionListener" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1084,306.0152,1080,312.0152,1084,318.0152,1088,312.0152,1084,306.0152" style="stroke: #000000; stroke-width: 1.0;"/><!--link OWAController to quarks.supercollider_redux.StateStore--><path d="M1853.979,125.9808 C1939.8455,142.1093 2040.8287,168.9011 2124,213 C2137.6813,220.2541 2150.6214,231.6938 2160.5089,241.8012 " fill="none" id="OWAController-quarks.supercollider_redux.StateStore" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1841.1517,123.629,1846.332,128.6454,1852.955,125.793,1847.7747,120.7766,1841.1517,123.629" style="stroke: #000000; stroke-width: 1.0;"/><!--link OWAController to quarks.supercollider_redux.ReduxAbletonTempoClockController--><path d="M1780.9139,158.9296 C1838.8906,187.6495 1905.903,220.8455 1948.3551,241.875 " fill="none" id="OWAController-quarks.supercollider_redux.ReduxAbletonTempoClockController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1769.0709,153.0629,1772.6718,159.3106,1779.8238,158.3897,1776.223,152.142,1769.0709,153.0629" style="stroke: #000000; stroke-width: 1.0;"/><!--link OWAController to SessionTimingController--><path d="M1643.3717,165.7057 C1635.5508,186.6265 1627.1243,209.1676 1620.3532,227.2802 " fill="none" id="OWAController-SessionTimingController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1648.0156,153.2832,1642.1679,157.5027,1643.8136,164.5235,1649.6614,160.304,1648.0156,153.2832" style="stroke: #000000; stroke-width: 1.0;"/><!--
@startuml

skinparam backgroundColor transparent
skinparam defaultFontName Monaco
hide circle
skinparam class {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam object {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam state {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam sequenceParticipant {
  backgroundColor Azure
  borderColor DarkGrey
}
skinparam sequenceLifeLine {
  borderColor DarkGrey
}
skinparam sequence {
  arrowColor Black
}
skinparam component {
  backgroundColor Azure
  borderColor DarkGrey
}
skinparam interface {
  backgroundColor Azure
  borderColor DarkGrey
}

namespace nodejs.owa {
  class OWAController {
    Top level entity for controlling everything.
    Entry point, starts all sub-controllers.

    OWAStateStore store
    inputController
    soundController
  }

  class SimulatorInputController {
    
    Converts messages from simulator UI into
    dispatched actions.

    oscActionListener
  }
  OWAController o- - SimulatorInputController
  
  /'class ArduinoInputController {'/
    /'Converts arduino inputs to dispatched actions.'/

    /'serialport.SerialPort arduinoPort'/
    /'..'/
    /'+ handleButtonMessage(data)'/
  /'}'/
  /'OWAController o- - ArduinoInputController'/
  
  class owaStateStore {
    Main state store for OWA app

    See data model for state tree.
  }

  class linkStateStore {
    A separate Redux state store for the Ableton Link state.  It changes
    very frequently and thus does not need to be in the same store.

    See data model for tree
  }

  class OSCActionListener {
    Forward actions from osc.js to a Redux state store.

    store
    oscSocket
  }

  class AbletonLinkController
  OWAController *- - AbletonLinkController
  class SoundController {
    Forwards state changes to SuperCollider and forwards dispatches from SC
    to the store.

    OSCActionListener actionListener
  }
  OWAController *- - SoundController
  SoundController *- - OSCActionListener

  /'class OSCActionDispatcher {'/
    /'Redux middleware to dispatch actions via osc.js'/

    /'oscSocket'/
  /'}'/

  namespace simulator {
    class OWAUIApp {
      Entry point for the GUI

    }
  }

}

package quarks.owa {
  class OWAController {
    StateStore owaStore
    StateStore linkStore
    SessionTimingController sessionTimingController
    ReduxAbletonTempoClockController clockController
  }
  OWAController *- - quarks.supercollider_redux.StateStore
  OWAController *- - quarks.supercollider_redux.ReduxAbletonTempoClockController

  class SessionTimingController {
    Handles scheduling the timing to transition from one phase to the
    next.
  }
  OWAController *- - SessionTimingController
}


@enduml

PlantUML version 1.2017.14(Mon Jun 05 02:56:32 PDT 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.6.0_65-b14-468-11M4833
Operating System: Mac OS X
OS Version: 10.11.2
Default Encoding: MacRoman
Language: en
Country: US
--></g></svg>