<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="926px" preserveAspectRatio="none" style="width:2497px;height:926px;" version="1.1" viewBox="0 0 2497 926" width="2497px" zoomAndPan="magnify"><defs><filter height="300%" id="feplwasn503md" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster nodejs.owa--><polygon fill="#FFFFFF" filter="url(#feplwasn503md)" points="1078,16,1164,16,1171,40.6689,2398,40.6689,2398,614.5,1078,614.5,1078,16" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1078" x2="1171" y1="40.6689" y2="40.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="1082" y="33.1689">nodejs.owa</text><!--cluster nodejs.owa.simulator--><polygon fill="#FFFFFF" filter="url(#feplwasn503md)" points="1172,104,1250,104,1257,128.6689,1362,128.6689,1362,198,1172,198,1172,104" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1172" x2="1257" y1="128.6689" y2="128.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="1176" y="121.1689">simulator</text><!--cluster redux--><polygon fill="#FFFFFF" filter="url(#feplwasn503md)" points="1748,689,1794,689,1801,713.6689,1806,713.6689,1806,768,1748,768,1748,689" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1748" x2="1801" y1="713.6689" y2="713.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="40" x="1752" y="706.1689">redux</text><!--cluster quarks.owa--><polygon fill="#FFFFFF" filter="url(#feplwasn503md)" points="14,484,100,484,107,508.6689,1070,508.6689,1070,812,14,812,14,484" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="14" x2="107" y1="508.6689" y2="508.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="18" y="501.1689">quarks.owa</text><!--cluster quarks.supercollider_redux--><polygon fill="#FFFFFF" filter="url(#feplwasn503md)" points="688,835,902,835,909,859.6689,1045,859.6689,1045,914,688,914,688,835" style="stroke: #000000; stroke-width: 2.0;"/><line style="stroke: #000000; stroke-width: 2.0;" x1="688" x2="909" y1="859.6689" y2="859.6689"/><text fill="#000000" font-family="Monaco" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="692" y="852.1689">quarks.supercollider_redux</text><!--class nodejs.owa.OWAController--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="232.6919" id="nodejs.owa.OWAController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="488" x="1663" y="45"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="1861.5" y="63.002">OWAController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1664" x2="2150" y1="71.002" y2="71.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="308" x="1669" y="86.9204">Top level entity for controlling everything.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="1669" y="101.5889">Entry point, starts all sub-controllers.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1676" y="116.2573"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1676" y="130.9258"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="1669" y="145.5942">Main state store for OWA app</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="1669" y="160.2627">redux.Store owaStore</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1676" y="174.9312"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="1676" y="189.5996"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="476" x="1669" y="204.2681">A separate redux state store for the Ableton Link state.  It changes</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="441" x="1669" y="218.9365">very frequently and thus does not need to be in the same store.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="1669" y="233.605">redux.Store linkStore</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="1669" y="248.2734">inputController</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="105" x="1669" y="262.9419">soundController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1664" x2="2150" y1="269.6919" y2="269.6919"/><!--class nodejs.owa.SimulatorInputController--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="100.6758" id="nodejs.owa.SimulatorInputController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="292" x="1086" y="345"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="168" x="1148" y="363.002">SimulatorInputController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1087" x2="1377" y1="371.002" y2="371.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="1092" y="386.9204">Converts messages from simulator UI into</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="1092" y="401.5889">dispatched actions.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="1092" y="416.2573">oscActionListener</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1092" y="430.9258">store</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1087" x2="1377" y1="437.6758" y2="437.6758"/><ellipse cx="1140" cy="161.5" fill="#F0FFFF" filter="url(#feplwasn503md)" rx="5" ry="5" style="stroke: #A9A9A9; stroke-width: 1.5;"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="1084" y="179.502">SIMULATOR_OSC_IN</text><!--class nodejs.owa.OSCActionListener--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="86.0073" id="nodejs.owa.OSCActionListener" style="stroke: #A9A9A9; stroke-width: 1.5;" width="369" x="1283.5" y="520.5"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="1408.5" y="538.502">OSCActionListener</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1284.5" x2="1651.5" y1="546.502" y2="546.502"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="357" x="1289.5" y="562.4204">Forward actions from osc.js to a redux state store.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1289.5" y="577.0889">store</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="1289.5" y="591.7573">oscSocket</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1284.5" x2="1651.5" y1="598.5073" y2="598.5073"/><!--class nodejs.owa.AbletonLinkController--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="86.0073" id="nodejs.owa.AbletonLinkController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="432" x="1958" y="352.5"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="2100.5" y="370.502">AbletonLinkController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1959" x2="2389" y1="378.502" y2="378.502"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="420" x="1964" y="394.4204">Creates an Ableton Link client and forwards the state to the</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="42" x="1964" y="409.0889">store.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="1964" y="423.7573">linkStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1959" x2="2389" y1="430.5073" y2="430.5073"/><!--class nodejs.owa.SoundController--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="115.3442" id="nodejs.owa.SoundController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="509" x="1413.5" y="338"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="105" x="1615.5" y="356.002">SoundController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1414.5" x2="1921.5" y1="364.002" y2="364.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="497" x="1419.5" y="379.9204">Forwards state changes to SuperCollider and forwards dispatches from SC</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1419.5" y="394.5889">to the store.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="224" x="1419.5" y="409.2573">OSCActionListener actionListener</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1419.5" y="423.9258">store</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="1419.5" y="438.5942">linkStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1414.5" x2="1921.5" y1="445.3442" y2="445.3442"/><!--class nodejs.owa.simulator.OWAUIApp--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="56.6704" id="nodejs.owa.simulator.OWAUIApp" style="stroke: #A9A9A9; stroke-width: 1.5;" width="173" x="1180.5" y="133"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="56" x="1239" y="151.002">OWAUIApp</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1181.5" x2="1352.5" y1="159.002" y2="159.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="1186.5" y="174.9204">Entry point for the GUI</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1181.5" x2="1352.5" y1="181.6704" y2="181.6704"/><!--class redux.Store--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="42.002" id="redux.Store" style="stroke: #A9A9A9; stroke-width: 1.5;" width="41" x="1756.5" y="718"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="1759.5" y="736.002">Store</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1757.5" x2="1796.5" y1="744.002" y2="744.002"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="1757.5" x2="1796.5" y1="752.002" y2="752.002"/><!--class quarks.owa.OWAController--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="100.6758" id="quarks.owa.OWAController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="348" x="714" y="513"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="842.5" y="531.002">OWAController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="715" x2="1061" y1="539.002" y2="539.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="168" x="720" y="554.9204">StateStore owaStateStore</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="175" x="720" y="569.5889">StateStore linkStateStore</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="329" x="720" y="584.2573">SessionTimingController sessionTimingController</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="336" x="720" y="598.9258">ReduxAbletonTempoClockController clockController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="715" x2="1061" y1="605.6758" y2="605.6758"/><ellipse cx="674" cy="563.5" fill="#F0FFFF" filter="url(#feplwasn503md)" rx="5" ry="5" style="stroke: #A9A9A9; stroke-width: 1.5;"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="49" x="649.5" y="581.502">owa.api</text><!--class quarks.owa.SessionTimingController--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="100.6758" id="quarks.owa.SessionTimingController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="467" x="594.5" y="688.5"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="161" x="747.5" y="706.502">SessionTimingController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="595.5" x2="1060.5" y1="714.502" y2="714.502"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="455" x="600.5" y="730.4204">Handles scheduling the timing to transition from one phase to the</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="600.5" y="745.0889">next using the master clock.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="336" x="600.5" y="759.7573">ReduxAbletonTempoClockController clockController</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="140" x="600.5" y="774.4258">StateStore linkStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="595.5" x2="1060.5" y1="781.1758" y2="781.1758"/><!--class quarks.owa.LevelTimingController--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="130.0127" id="quarks.owa.LevelTimingController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="537" x="22.5" y="674"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="147" x="217.5" y="692.002">LevelTimingController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="23.5" x2="558.5" y1="700.002" y2="700.002"/><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="497" x="28.5" y="715.9204">Handles the scheduling of playback within one level.  When playingState</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="497" x="28.5" y="730.5889">changes, start changing sequencer state appropriately.  Queue sequencer</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="525" x="28.5" y="745.2573">start, when sequencer starts queue sequencer stop and next sequencer start,</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="28.5" y="759.9258">etc.</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="336" x="28.5" y="774.5942">ReduxAbletonTempoClockController clockController</text><text fill="#000000" font-family="Monaco" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="28.5" y="789.2627">StateStore store</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="23.5" x2="558.5" y1="796.0127" y2="796.0127"/><!--class quarks.supercollider_redux.StateStore--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="42.002" id="quarks.supercollider_redux.StateStore" style="stroke: #A9A9A9; stroke-width: 1.5;" width="76" x="696" y="864"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="699" y="882.002">StateStore</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="697" x2="771" y1="890.002" y2="890.002"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="697" x2="771" y1="898.002" y2="898.002"/><!--class quarks.supercollider_redux.ReduxAbletonTempoClockController--><rect fill="#F0FFFF" filter="url(#feplwasn503md)" height="42.002" id="quarks.supercollider_redux.ReduxAbletonTempoClockController" style="stroke: #A9A9A9; stroke-width: 1.5;" width="230" x="807" y="864"/><text fill="#000000" font-family="Monaco" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="224" x="810" y="882.002">ReduxAbletonTempoClockController</text><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="808" x2="1036" y1="890.002" y2="890.002"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="808" x2="1036" y1="898.002" y2="898.002"/><!--link nodejs.owa.OWAController to redux.Store--><path d="M2164.1782,212.4143 C2323.8576,256.8411 2485.1763,333.2863 2408,453 C2262.1821,679.1886 1889.2291,728.4692 1797.5766,737.2959 " fill="none" id="nodejs.owa.OWAController-redux.Store" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="2151.2136,208.8751,2155.9484,214.314,2162.79,212.0353,2158.0552,206.5964,2151.2136,208.8751" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.OWAController to nodejs.owa.SimulatorInputController--><path d="M1650.455,249.8502 C1569.0649,277.9496 1478.7346,309.2081 1396,338 C1389.4461,340.2808 1382.746,342.6159 1375.979,344.9771 " fill="none" id="nodejs.owa.OWAController-nodejs.owa.SimulatorInputController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1662.9165,245.5485,1655.9397,243.7253,1651.5734,249.4643,1658.5502,251.2874,1662.9165,245.5485" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.SimulatorInputControllerlol9 to nodejs.owa.SimulatorInputController--><path d="M1140.4559,166.5436 C1142.068,183.0399 1148.2713,236.7019 1164,278 C1172.7662,301.0169 1185.7064,324.8216 1197.9523,344.9357 " fill="none" id="nodejs.owa.SimulatorInputControllerlol9-nodejs.owa.SimulatorInputController" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.SimulatorInputController to nodejs.owa.OSCActionListener--><path d="M1313.831,453.7526 C1344.562,475.6289 1378.9161,500.0843 1407.3816,520.3479 " fill="none" id="nodejs.owa.SimulatorInputController-nodejs.owa.OSCActionListener" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1303.1278,446.1334,1305.696,452.8717,1312.9037,453.0926,1310.3355,446.3544,1303.1278,446.1334" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.SimulatorInputController to redux.Store--><path d="M1381.8063,449.5297 C1386.5731,450.7656 1391.3126,451.9275 1396,453 C1455.7336,466.6677 1620.9627,447.2542 1670,484 C1680.0853,491.5574 1745.6261,658.3086 1768.8541,717.9909 " fill="none" id="nodejs.owa.SimulatorInputController-redux.Store" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1369.1414,446.0958,1373.8855,451.5266,1380.7232,449.2361,1375.9791,443.8053,1369.1414,446.0958" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.OSCActionListener to redux.Store--><path d="M1555.329,613.0995 C1624.5696,652.4255 1716.1609,704.4457 1756.4699,727.3397 " fill="none" id="nodejs.owa.OSCActionListener-redux.Store" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1543.9857,606.6569,1547.2275,613.0983,1554.4201,612.5833,1551.1784,606.142,1543.9857,606.6569" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.OWAController to nodejs.owa.AbletonLinkController--><path d="M2050.0455,286.8657 C2076.9746,310.4665 2103.3831,333.6111 2124.858,352.4317 " fill="none" id="nodejs.owa.OWAController-nodejs.owa.AbletonLinkController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="2040.1089,278.1572,2041.9848,285.12,2049.1336,286.0664,2047.2576,279.1036,2040.1089,278.1572" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.AbletonLinkController to redux.Store--><path d="M2114.2731,447.178 C2023.7235,525.5251 1856.0712,670.5845 1797.6895,721.0986 " fill="none" id="nodejs.owa.AbletonLinkController-redux.Store" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="2124.1217,438.6567,2116.9671,439.5577,2115.0471,446.5085,2122.2017,445.6075,2124.1217,438.6567" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.OWAController to nodejs.owa.SoundController--><path d="M1778.4333,287.377 C1760.4572,304.977 1742.7563,322.3076 1726.9702,337.7635 " fill="none" id="nodejs.owa.OWAController-nodejs.owa.SoundController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1787.8501,278.1572,1780.7645,279.4966,1779.2756,286.5523,1786.3612,285.2129,1787.8501,278.1572" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.SoundController to nodejs.owa.OSCActionListener--><path d="M1589.4789,461.4578 C1565.9342,481.2353 1540.7222,502.4133 1519.4035,520.3211 " fill="none" id="nodejs.owa.SoundController-nodejs.owa.OSCActionListener" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1599.4512,453.081,1592.2842,453.8774,1590.2628,460.7994,1597.4298,460.003,1599.4512,453.081" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.SoundController to redux.Store--><path d="M1722.2255,464.5487 C1725.8957,470.9232 1729.2285,477.4519 1732,484 C1766.6066,565.7638 1774.5998,673.1416 1776.4458,717.9469 " fill="none" id="nodejs.owa.SoundController-redux.Store" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1715.303,453.2703,1715.0325,460.4763,1721.5802,463.4976,1721.8507,456.2915,1715.303,453.2703" style="stroke: #000000; stroke-width: 1.0;"/><!--link nodejs.owa.SoundController to quarks.owa.OWAController--><path d="M1413.3409,450.2495 C1407.5119,451.2066 1401.7255,452.1255 1396,453 C1252.1261,474.9753 1210.8976,447.5242 1070,484 C1044.4958,490.6026 1018.0032,500.3457 993.3841,510.7666 " fill="none" id="nodejs.owa.SoundController-quarks.owa.OWAController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="988.4861,512.8591,998.3339,513.0015,993.084,510.8947,995.1909,505.6448,988.4861,512.8591" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Monaco" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="56" x="1349.8703" y="471.6693">owa.api</text><!--link nodejs.owa.simulator.OWAUIApp to nodejs.owa.SimulatorInputController--><path d="M1262.7083,190.193 C1257.1605,227.2843 1247.3785,292.6838 1240.3441,339.714 " fill="none" id="nodejs.owa.simulator.OWAUIApp-nodejs.owa.SimulatorInputController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1239.5864,344.7795,1244.8741,336.4705,1240.3263,339.8345,1236.9622,335.2867,1239.5864,344.7795" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="Monaco" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="1121.2634" y="211.6663">SIMULATOR_OSC_IN</text><!--link quarks.owa.OWAController to quarks.supercollider_redux.StateStore--><path d="M1029.2886,621.4672 C1049.1668,635.7019 1066.9131,653.0434 1079,674 C1109.6431,727.1298 1120.6195,766.949 1079,812 C1035.1321,859.4849 848.328,809.3213 789,835 C774.3149,841.3561 760.9519,853.2857 751.0757,863.8982 " fill="none" id="quarks.owa.OWAController-quarks.supercollider_redux.StateStore" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1018.3849,614.0903,1021.1131,620.7654,1028.324,620.8145,1025.5958,614.1394,1018.3849,614.0903" style="stroke: #000000; stroke-width: 1.0;"/><!--link quarks.owa.OWAController to quarks.supercollider_redux.ReduxAbletonTempoClockController--><path d="M1052.6122,619.1594 C1093.4474,636.4122 1129.0257,655.7035 1141,674 C1174.5867,725.3197 1176.8622,762.2438 1141,812 C1126.061,832.7267 1071.6796,850.9154 1020.8497,863.9529 " fill="none" id="quarks.owa.OWAController-quarks.supercollider_redux.ReduxAbletonTempoClockController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="1040.3833,614.1127,1044.4036,620.0991,1051.4758,618.6905,1047.4555,612.7041,1040.3833,614.1127" style="stroke: #000000; stroke-width: 1.0;"/><!--link quarks.owa.OWAControllerlol34 to quarks.owa.OWAController--><path d="M679.0156,563.5 C690.5805,563.5 702.1454,563.5 713.7103,563.5 " fill="none" id="quarks.owa.OWAControllerlol34-quarks.owa.OWAController" style="stroke: #000000; stroke-width: 1.0;"/><!--link quarks.owa.OWAController to quarks.owa.SessionTimingController--><path d="M866.4269,626.6012 C859.4922,646.8854 851.9037,669.0818 845.3155,688.3522 " fill="none" id="quarks.owa.OWAController-quarks.owa.SessionTimingController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="870.6455,614.2619,864.9196,618.6452,866.7635,625.6166,872.4894,621.2333,870.6455,614.2619" style="stroke: #000000; stroke-width: 1.0;"/><!--link quarks.owa.SessionTimingController to quarks.supercollider_redux.ReduxAbletonTempoClockController--><path d="M867.8279,800.8604 C882.273,823.2964 897.6438,847.1702 908.308,863.7337 " fill="none" id="quarks.owa.SessionTimingController-quarks.supercollider_redux.ReduxAbletonTempoClockController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="860.6128,789.654,860.4976,796.8642,867.1088,799.7437,867.224,792.5335,860.6128,789.654" style="stroke: #000000; stroke-width: 1.0;"/><!--link quarks.owa.SessionTimingController to quarks.supercollider_redux.StateStore--><path d="M788.1721,800.8604 C773.727,823.2964 758.3562,847.1702 747.692,863.7337 " fill="none" id="quarks.owa.SessionTimingController-quarks.supercollider_redux.StateStore" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="795.3872,789.654,788.776,792.5335,788.8912,799.7437,795.5024,796.8642,795.3872,789.654" style="stroke: #000000; stroke-width: 1.0;"/><!--link quarks.owa.OWAController to quarks.owa.LevelTimingController--><path d="M703.3428,617.7837 C642.9058,635.5503 575.1452,655.4699 512.2892,673.9476 " fill="none" id="quarks.owa.OWAController-quarks.owa.LevelTimingController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="716.1238,614.0264,709.2392,611.881,704.611,617.4108,711.4955,619.5562,716.1238,614.0264" style="stroke: #000000; stroke-width: 1.0;"/><!--link quarks.owa.LevelTimingController to quarks.supercollider_redux.ReduxAbletonTempoClockController--><path d="M549.349,806.6953 C558.6611,808.5764 567.8997,810.3535 577,812 C670.261,828.8732 696.8041,813.04 789,835 C818.276,841.9732 849.8542,853.6557 874.8914,863.9752 " fill="none" id="quarks.owa.LevelTimingController-quarks.supercollider_redux.ReduxAbletonTempoClockController" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="536.6112,804.068,541.6795,809.1975,548.3638,806.492,543.2955,801.3625,536.6112,804.068" style="stroke: #000000; stroke-width: 1.0;"/><!--link quarks.owa.LevelTimingController to quarks.supercollider_redux.StateStore--><path d="M500.9336,808.188 C575.3246,832.7052 651.4601,857.7972 695.6536,872.3621 " fill="none" id="quarks.owa.LevelTimingController-quarks.supercollider_redux.StateStore" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="488.5315,804.1007,492.978,809.7778,499.9285,807.8568,495.482,802.1797,488.5315,804.1007" style="stroke: #000000; stroke-width: 1.0;"/><!--
@startuml

skinparam backgroundColor transparent
skinparam defaultFontName Monaco
hide circle
skinparam class {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam object {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam state {
  backgroundColor Azure
  borderColor DarkGrey
  arrowColor Black
  fontColor Black
}
skinparam sequenceParticipant {
  backgroundColor Azure
  borderColor DarkGrey
}
skinparam sequenceLifeLine {
  borderColor DarkGrey
}
skinparam sequence {
  arrowColor Black
}
skinparam component {
  backgroundColor Azure
  borderColor DarkGrey
}
skinparam interface {
  backgroundColor Azure
  borderColor DarkGrey
}

namespace nodejs.owa {
  class OWAController {
    Top level entity for controlling everything.
    Entry point, starts all sub-controllers.
    \n
    Main state store for OWA app
    redux.Store owaStore
    \n
    A separate redux state store for the Ableton Link state.  It changes
    very frequently and thus does not need to be in the same store.
    redux.Store linkStore

    inputController
    soundController
  }
  OWAController *- - redux.Store

  class SimulatorInputController {
    
    Converts messages from simulator UI into
    dispatched actions.

    oscActionListener
    store
  }
  OWAController o- - SimulatorInputController
  SIMULATOR_OSC_IN ()- - SimulatorInputController
  SimulatorInputController *- - OSCActionListener
  SimulatorInputController *- - redux.Store
  
  /'class ArduinoInputController {'/
    /'Converts arduino inputs to dispatched actions.'/

    /'serialport.SerialPort arduinoPort'/
    /'..'/
    /'+ handleButtonMessage(data)'/
  /'}'/
  /'OWAController o- - ArduinoInputController'/
  class OSCActionListener {
    Forward actions from osc.js to a redux state store.

    store
    oscSocket
  }
  OSCActionListener *- - redux.Store

  class AbletonLinkController {
    Creates an Ableton Link client and forwards the state to the
    store.

    linkStore
  }
  OWAController *- - AbletonLinkController
  AbletonLinkController *- - redux.Store

  class SoundController {
    Forwards state changes to SuperCollider and forwards dispatches from SC
    to the store.

    OSCActionListener actionListener
    store
    linkStore
  }
  OWAController *- - SoundController
  SoundController *- - OSCActionListener
  SoundController *- - redux.Store
  SoundController "owa.api" -down-> quarks.owa.OWAController

  /'class OSCActionDispatcher {'/
    /'redux middleware to dispatch actions via osc.js'/

    /'oscSocket'/
  /'}'/

  namespace simulator {
    class OWAUIApp {
      Entry point for the GUI
    }
    OWAUIApp "SIMULATOR_OSC_IN" - -> nodejs.owa.SimulatorInputController
  }

}

package quarks.owa {
  class OWAController {
    StateStore owaStateStore
    StateStore linkStateStore
    SessionTimingController sessionTimingController
    ReduxAbletonTempoClockController clockController
  }
  OWAController *- - quarks.supercollider_redux.StateStore
  OWAController *- - quarks.supercollider_redux.ReduxAbletonTempoClockController
  owa.api ()- OWAController

  class SessionTimingController {
    Handles scheduling the timing to transition from one phase to the
    next using the master clock.
    
    ReduxAbletonTempoClockController clockController
    StateStore linkStore
  }
  OWAController *- - SessionTimingController
  SessionTimingController *- - quarks.supercollider_redux.ReduxAbletonTempoClockController
  SessionTimingController *- - quarks.supercollider_redux.StateStore

  class LevelTimingController {
    Handles the scheduling of playback within one level.  When playingState
    changes, start changing sequencer state appropriately.  Queue sequencer
    start, when sequencer starts queue sequencer stop and next sequencer start,
    etc.

    ReduxAbletonTempoClockController clockController
    StateStore store
  }
  OWAController *- - LevelTimingController
  LevelTimingController *- - quarks.supercollider_redux.ReduxAbletonTempoClockController
  LevelTimingController *- - quarks.supercollider_redux.StateStore
}


@enduml

PlantUML version 1.2017.14(Mon Jun 05 02:56:32 PDT 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.6.0_65-b14-468-11M4833
Operating System: Mac OS X
OS Version: 10.11.2
Default Encoding: MacRoman
Language: en
Country: US
--></g></svg>