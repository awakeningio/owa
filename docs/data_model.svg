<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1057px" preserveAspectRatio="none" style="width:1557px;height:1057px;background:#1D1F21;" version="1.1" viewBox="0 0 1557 1057" width="1557px" zoomAndPan="magnify"><defs><filter height="300%" id="f9re7g5lh2xwu" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="310.7031" style="stroke: #F0C674; stroke-width: 1.5;" width="154" x="6" y="378"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="140" x="13" y="397.3359">SESSION_PHASES</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="7" x2="159" y1="403.3359" y2="403.3359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="40" x="12" y="424.6719">IDLE</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="80" x="12" y="446.0078">TRANS_10</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="100" x="12" y="467.3438">PLAYING_10</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="70" x="12" y="488.6797">TRANS_8</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="90" x="12" y="510.0156">PLAYING_8</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="70" x="12" y="531.3516">TRANS_6</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="90" x="12" y="552.6875">PLAYING_6</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="70" x="12" y="574.0234">TRANS_4</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="90" x="12" y="595.3594">PLAYING_4</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="120" x="12" y="616.6953">ADVICE_READY</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="120" x="12" y="638.0313">TRANS_ADVICE</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="140" x="12" y="659.3672">PLAYING_ADVICE</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="100" x="12" y="680.7031">TRANS_IDLE</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="76.0078" style="stroke: #F0C674; stroke-width: 1.5;" width="204" x="550" y="970"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="190" x="557" y="989.3359">LEVEL_PLAYBACK_TYPE</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="551" x2="753" y1="995.3359" y2="995.3359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="130" x="556" y="1016.6719">SIMULTANEOUS,</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="100" x="556" y="1038.0078">SEQUENTIAL</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="97.3438" style="stroke: #F0C674; stroke-width: 1.5;" width="184" x="195" y="485"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="170" x="202" y="504.3359">CONNECTION_STATUS</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="196" x2="378" y1="510.3359" y2="510.3359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="130" x="201" y="531.6719">DISCONNECTED,</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="110" x="201" y="553.0078">CONNECTING,</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="90" x="201" y="574.3438">CONNECTED</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="76.0078" style="stroke: #F0C674; stroke-width: 1.5;" width="162" x="414" y="495.5"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="120" x="435" y="514.8359">OWA_SONG_IDS</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="415" x2="575" y1="520.8359" y2="520.8359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="150" x="420" y="542.1719">"spinny_pluck",</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="100" x="420" y="563.5078">"eminator"</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="289.3672" style="stroke: #F0C674; stroke-width: 1.5;" width="432" x="486" y="8"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="50" x="677" y="27.3359">state</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="487" x2="917" y1="33.3359" y2="33.3359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="240" x="492" y="54.6719">Enum OWA_SONG_IDS songId</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="110" x="492" y="76.0078">float tempo</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="420" x="492" y="97.3438">Enum CONNECTION_STATUS fadecandyConnection</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="150" x="492" y="118.6797">bool soundReady</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="280" x="492" y="140.0156">Object sessionPhaseDurations</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="260" x="492" y="161.3516">inactivityTimeoutStartTime</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="320" x="492" y="182.6875">Enum SESSION_PHASES sessionPhase</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="190" x="492" y="204.0234">segments segments{}</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="150" x="492" y="225.3594">levels levels{}</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="270" x="492" y="246.6953">SequencerState sequencers{}</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="280" x="492" y="268.0313">IdlePlayerState idlePlayer{}</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="350" x="492" y="289.3672">segmentId|false firstSegmentPressed</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="76.0078" style="stroke: #F0C674; stroke-width: 1.5;" width="182" x="611" y="495.5"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="60" x="672" y="514.8359">levels</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="612" x2="792" y1="520.8359" y2="520.8359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="170" x="617" y="542.1719">LevelState byId{}</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="150" x="617" y="563.5078">string allIds[]</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="97.3438" style="stroke: #F0C674; stroke-width: 1.5;" width="382" x="461" y="791.5"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="100" x="602" y="810.8359">LevelState</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="462" x2="842" y1="816.8359" y2="816.8359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="140" x="467" y="838.1719">string levelId</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="370" x="467" y="859.5078">Enum LEVEL_PLAYBACK_TYPE playbackType</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="110" x="467" y="880.8438">numSegments</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="76.0078" style="stroke: #F0C674; stroke-width: 1.5;" width="202" x="828" y="495.5"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="80" x="889" y="514.8359">segments</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="829" x2="1029" y1="520.8359" y2="520.8359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="190" x="834" y="542.1719">SegmentState byId{}</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="150" x="834" y="563.5078">string allIds[]</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="140.0156" style="stroke: #F0C674; stroke-width: 1.5;" width="202" x="878" y="770"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="120" x="919" y="789.3359">SegmentState</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="879" x2="1079" y1="795.3359" y2="795.3359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="70" x="884" y="816.6719">levelId</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="120" x="884" y="838.0078">segmentIndex</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="90" x="884" y="859.3438">segmentId</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="110" x="884" y="880.6797">sequencerId</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="190" x="884" y="902.0156">lastButtonPressTime</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="353.375" style="stroke: #F0C674; stroke-width: 1.5;" width="282" x="1065" y="357"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="140" x="1136" y="376.3359">SequencerState</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="1066" x2="1346" y1="382.3359" y2="382.3359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="270" x="1071" y="403.6719">Awakening sequencers object</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="110" x="1071" y="425.0078">sequencerId</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="40" x="1071" y="446.3438">type</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="180" x="1071" y="467.6797">clockOffsetSeconds</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="40" x="1071" y="489.0156">beat</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="80" x="1071" y="510.3516">nextBeat</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="80" x="1071" y="531.6875">nextTime</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="80" x="1071" y="553.0234">numBeats</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="120" x="1071" y="574.3594">playingState</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="70" x="1071" y="595.6953">isReady</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="90" x="1071" y="617.0313">playQuant</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="90" x="1071" y="638.3672">stopQuant</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="50" x="1071" y="659.7031">event</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="250" x="1071" y="681.0391">Plus our own added state:</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="100" x="1071" y="702.375">phaseProps</text><rect fill="#1D1F21" filter="url(#f9re7g5lh2xwu)" height="97.3438" style="stroke: #F0C674; stroke-width: 1.5;" width="164" x="1382" y="485"/><text fill="#F0C674" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="150" x="1389" y="504.3359">IdlePlayerState</text><line style="stroke: #F0C674; stroke-width: 1.5;" x1="1383" x2="1545" y1="510.3359" y2="510.3359"/><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="80" x="1388" y="531.6719">bufName,</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="130" x="1388" y="553.0078">playingState,</text><text fill="#C5C8C6" font-family="Monaco" font-size="16" lengthAdjust="spacingAndGlyphs" textLength="40" x="1388" y="574.3438">gate</text><!--link state to SESSION_PHASES--><path d="M473.1854,203.6469 C373.6747,234.8967 261.097,283.4458 178,357 C170.8342,363.3429 164.1117,370.3597 157.82,377.8325 " fill="none" id="state-SESSION_PHASES" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="485.8785,199.7316,478.966,197.6779,474.4117,203.2688,481.3242,205.3225,485.8785,199.7316" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link state to CONNECTION_STATUS--><path d="M475.0896,288.541 C447.3091,309.7333 420.4826,332.7216 397,357 C360.351,394.891 329.7266,446.9703 310.1752,484.7301 " fill="none" id="state-CONNECTION_STATUS" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="485.7785,280.5079,478.5789,280.9151,476.1857,287.7175,483.3853,287.3103,485.7785,280.5079" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link state to OWA_SONG_IDS--><path d="M617.0452,308.866 C579.9464,377.1493 539.5613,451.4813 515.8043,495.208 " fill="none" id="state-OWA_SONG_IDS" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="623.447,297.083,617.0678,300.4455,617.7181,307.6272,624.0973,304.2647,623.447,297.083" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link state to levels--><path d="M702,310.1364 C702,378.0696 702,451.7524 702,495.208 " fill="none" id="state-levels" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="702,297.083,698,303.083,702,309.083,706,303.083,702,297.083" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link levels to LevelState--><path d="M693.6265,584.8295 C684.2361,642.3925 669.1207,735.05 659.9197,791.452 " fill="none" id="levels-LevelState" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="695.7686,571.6987,690.8547,576.9764,693.8365,583.5421,698.7503,578.2645,695.7686,571.6987" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link state to segments--><path d="M794.9108,308.4429 C835.6631,376.842 880.0794,451.391 906.1856,495.208 " fill="none" id="state-segments" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="788.1426,297.083,787.7774,304.2848,794.2848,307.3919,794.65,300.1901,788.1426,297.083" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link segments to SegmentState--><path d="M937.3339,584.5869 C945.5962,635.235 958.3188,713.2241 967.5319,769.7007 " fill="none" id="segments-SegmentState" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="935.2314,571.6987,932.2497,578.2645,937.1635,583.5421,940.1453,576.9764,935.2314,571.6987" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link LevelState to LEVEL_PLAYBACK_TYPE--><path d="M652,901.7143 C652,924.5614 652,949.7795 652,969.9159 " fill="none" id="LevelState-LEVEL_PLAYBACK_TYPE" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="652,888.5926,648,894.5926,652,900.5926,656,894.5926,652,888.5926" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link state to SequencerState--><path d="M929.6162,273.4409 C970.5395,298.9252 1011.6849,327.1968 1048,357 C1053.5634,361.5658 1059.1046,366.3322 1064.6005,371.2504 " fill="none" id="state-SequencerState" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="918.3696,266.5027,921.3758,273.0573,928.5824,272.8033,925.5762,266.2487,918.3696,266.5027" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--link state to IdlePlayerState--><path d="M930.8901,179.6374 C1068.8892,205.8438 1241.3018,257.0921 1365,357 C1405.9981,390.1131 1432.9405,445.0183 1448.2231,484.8094 " fill="none" id="state-IdlePlayerState" style="stroke: #C5C8C6; stroke-width: 1.0;"/><polygon fill="#C5C8C6" points="918.0689,177.2556,923.2373,182.2843,929.867,179.4475,924.6986,174.4188,918.0689,177.2556" style="stroke: #C5C8C6; stroke-width: 1.0;"/><!--
@startuml

skinparam backgroundColor #1d1f21
skinparam defaultFontName Monaco
skinparam defaultFontColor #c5c8c6
skinparam defaultFontSize 16
hide circle
skinparam class {
  backgroundColor #1d1f21
  fontColor #b294bb
  borderColor #b294bb
  arrowColor #c5c8c6
}
skinparam object {
  backgroundColor #1d1f21
  fontColor #f0c674
  borderColor #f0c674
  arrowColor #c5c8c6
}
skinparam state {
  backgroundColor #1d1f21
  borderColor #c5c8c6
  arrowColor #c5c8c6
}
skinparam sequenceParticipant {
  backgroundColor #1d1f21
  borderColor #c5c8c6
}
skinparam sequenceLifeLine {
  borderColor #c5c8c6
}
skinparam sequence {
  arrowColor #c5c8c6
}
skinparam component {
  backgroundColor #1d1f21
  borderColor #c5c8c6
}
skinparam interface {
  backgroundColor #1d1f21
  borderColor #c5c8c6
}
skinparam component {
  backgroundColor #1d1f21
  borderColor #c5c8c6
}

object SESSION_PHASES { 
  IDLE
  TRANS_10
  PLAYING_10
  TRANS_8
  PLAYING_8
  TRANS_6
  PLAYING_6
  TRANS_4
  PLAYING_4
  ADVICE_READY
  TRANS_ADVICE
  PLAYING_ADVICE
  TRANS_IDLE
}

object LEVEL_PLAYBACK_TYPE {
  SIMULTANEOUS,
  SEQUENTIAL 
}

object CONNECTION_STATUS {
  DISCONNECTED,
  CONNECTING,
  CONNECTED
}

object OWA_SONG_IDS {
  "spinny_pluck",
  "eminator"
}

object state {  
  Enum OWA_SONG_IDS songId
  float tempo
  Enum CONNECTION_STATUS fadecandyConnection
  bool soundReady
  Object sessionPhaseDurations
  inactivityTimeoutStartTime
  Enum SESSION_PHASES sessionPhase
  segments segments{}
  levels levels{}
  SequencerState sequencers{}
  IdlePlayerState idlePlayer{}
  segmentId|false firstSegmentPressed
}
state *- - SESSION_PHASES
state *- - CONNECTION_STATUS
state *- - OWA_SONG_IDS

object levels {
  LevelState byId{}
  string allIds[]
}
state *- - levels
levels *- - LevelState

object segments {
  SegmentState byId{}
  string allIds[]
}
state *- - segments
segments *- - SegmentState

object SegmentState {
  levelId
  segmentIndex
  segmentId
  sequencerId
  lastButtonPressTime
}

object LevelState {
  string levelId
  Enum LEVEL_PLAYBACK_TYPE playbackType
  numSegments
}
LevelState *- - LEVEL_PLAYBACK_TYPE

object SequencerState {
  Awakening sequencers object

  sequencerId  
  type
  clockOffsetSeconds
  beat
  nextBeat
  nextTime
  numBeats
  playingState
  isReady
  playQuant
  stopQuant
  event


  Plus our own added state:
  phaseProps
}
state *- - SequencerState

object IdlePlayerState {
  bufName,
  playingState,
  gate
}
state *- - IdlePlayerState


@enduml

PlantUML version 1.2018.14(Fri Dec 21 08:33:16 PST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 11.0.2+9-LTS
Operating System: Mac OS X
OS Version: 10.14
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>